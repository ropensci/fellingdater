# basic example
sw_combine(dummy1, plot = TRUE)
sw_model("Hollstein_1980")
# The following code computes the PDF of sapwood estimates, or limits of the hdi for the felling date.
# In the example below, 10 sapwood rings were observed on a sample (last ring dated to 1234 AD) that is supposed to have a provenance in the Southern Baltic  region (sapwood model published by Wazny, 1990).
# The hdi delineates an interval in which the actual felling date is most likely situated. It is the shortest interval within a probability distribution for a given probability mass or credible interval. The hdi summarizes the distribution by specifying an interval that spans most of the distribution, say 95% of it, as such that every point inside the interval has higher credibility than any point outside the interval.
sw_interval(n_sapwood = 10,
last = 1234,
hdi = TRUE,
credMass = .95,
sw_data = "Wazny_1990",
densfun = "lognormal")
# 8 sapwood rings observed and the Hollstein 1980 sapwood model:
sw_interval(n_sapwood = 10,
last = 1234,
hdi = TRUE,
credMass = .95,
sw_data = "Wazny_1990",
densfun = "lognormal",
plot = T)
# 10 sapwood rings observed and the Wazny 1990 sapwood model:
sw_interval(n_sapwood = 10,
last = 1234,
hdi = TRUE,
credMass = .95,
sw_data = "Wazny_1990",
densfun = "lognormal",
plot = T)
tmp <- data.frame(id = c("aaa", "bbb", "ccc"),
swr = c(10, 11, 12),
waneyedge = c(FALSE, FALSE,TRUE),
end = c(10, 0, -10))
fd_report(tmp,
series = "id",
n_sapwood = "swr",
last = "end",
sw_data = "Wazny_1990")
sw_data_overview()
sw_data_info("Pilcher_1987")
sw_model("Sohar_2012_ELL_c")
sw_data_info("Sohar_2012_ELL_c")
sw_model("Wazny_1990", densfun = "gamma", credMass= .90, plot = TRUE)
# test data for sw_combine() and sw_combine_plot()
## a dataset in which all series have preserved sapwood
dummy1 <- data.frame(
series = c("trs_1", "trs_2", "trs_3", "trs_4", "trs_5"),
last = c(1000, 1009, 1007, 1005, 1010),
swr = c(5, 10, 15, 16, 8),
waneyedge = c(FALSE, FALSE, FALSE, FALSE, FALSE)
)
## a dataset in which one series has an exact felling date (= waney edge preserved)
dummy2 <- data.frame(
series = c("trs_1", "trs_2", "trs_3", "trs_4", "trs_5"),
last = c(1000, 1005, 1008, 1000, 1010),
swr = c(5, 10, NA, 1, 3),
waneyedge = c(FALSE, FALSE, FALSE, FALSE, TRUE))
## a dataset with multiple exact felling dates
dummy3 <- data.frame(
series = c("trs_1", "trs_2", "trs_3", "trs_4", "trs_5"),
last = c(1000, 1005, 1008, 1000, 1010),
swr = c(5, 10, NA, 1, NA),
waneyedge = c(TRUE, TRUE, TRUE, TRUE, TRUE))
## a combination of series with and without sapwood rings
dummy4 <- data.frame(
series = c("trs_1", "trs_2", "trs_3", "trs_4", "trs_5"),
last = c(1000, 1005, 1005, 1020, 1040),
swr = c(5, 10, NA, 1, 0),
waneyedge = c(FALSE, FALSE, FALSE, FALSE, FALSE))
## this dataset contains series without preserved sapwood
dummy5 <- data.frame(
series = c("trs_1", "trs_2", "trs_3", "trs_4"),
last = c(1000, 1005, 1000, 1000),
swr = as.numeric(c(NA, NA, NA, NA)),
waneyedge = c(FALSE, FALSE, FALSE, FALSE))
# test data for for sw_sum()
dummy6 <- data.frame(
series = c("trs_1", "trs_2", "trs_3", "trs_4", "trs_5", "trs_6", "trs_7", "trs_8", "trs_9"),
last = c(1000, 1009, 1007, 1005, 1010, 1020, 1025, 1050, 1035),
swr = c(5, 10, 15, 16, 8, 0, 10, 3, 1),
waneyedge = c(FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE)
)
dummy7 <- data.frame(
series = c("trs_1", "trs_2", "trs_3", "trs_4", "trs_5", "trs_6", "trs_7", "trs_8", "trs_9"),
last = c(1000, 1009, 1007, 1007, 1010, 1020, 1025, 1050, 1035),
swr = c(5, 10, 15, 16, 8, 0, 10, 3, 1),
waneyedge = c(FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE)
)
usethis::use_data(dummy1,
dummy2,
dummy3,
dummy4,
dummy5,
dummy6,
dummy7,
internal = TRUE)
sw_data_overview()
sw_combine(dummy1)
load_all()
sw_data_overview()
sw_combine(dummy1)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/data-raw/internal_data.R")
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/data-raw/internal_data.R", echo=TRUE)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/data-raw/internal_data.R")
load_all()
sw_combine(dummy1)
sw_combine(dummy2)
sw_combine(dummy0)
sw_combine(dummy0, series = "trs", last = "end", n_sapwood = "swr", waneyedge = "bark")
dummy0
dummy0
sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954,
hdi = TRUE)
dummy0
sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954)
sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954)
dummy0
tmp <- sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954)
sw_data_overview()
sw_data_info("Pilcher_1987")
sw_model("Sohar_2012_ELL_c")
sw_data_info("Sohar_2012_ELL_c")
sw_model("Wazny_1990", densfun = "gamma", credMass= .90, plot = TRUE)
library(devtools)
load_all()
sw_model()
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_interval.R")
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_interval.R")
use_package(("utils"))
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_interval_plot.R")
sw_interval(dummy2, plot = T)
sw_interval(dummy2[1,], plot = T)
sw_interval(dummy2$trs_1, plot = T)
sw_interval(dummy2$trs1, plot = T)
dummy1
sw_interval(dummy1[1,], plot = T)
dummy1[1,]
## a data set where all series have partially preserved sapwood:
dummy1
library(fellingdateR)
# basic example
sw_combine(dummy1, plot = TRUE)
sw_combine(dummy1, plot = F)
sw_combine(dummy1, plot = F)$individual_series
tmp <- sw_combine(dummy1, plot = F)$individual_series
class(tmp)
tmp <- sw_combine(dummy1, plot = F)
load_all()
library(fellingdateR)
# basic example
sw_combine(dummy1, plot = TRUE)
sw_model("Hollstein_1980")
sw_interval(n_sapwood = 10,
last = 1234,
hdi = TRUE,
credMass = .95,
sw_data = "Wazny_1990",
densfun = "lognormal")
# 10 sapwood rings observed and the Wazny 1990 sapwood model:
sw_interval(n_sapwood = 10,
last = 1234,
hdi = TRUE,
credMass = .95,
sw_data = "Wazny_1990",
densfun = "lognormal",
plot = T)
tmp <- data.frame(id = c("aaa", "bbb", "ccc"),
swr = c(10, 11, 12),
waneyedge = c(FALSE, FALSE,TRUE),
end = c(10, 0, -10))
fd_report(tmp,
series = "id",
n_sapwood = "swr",
last = "end",
sw_data = "Wazny_1990")
tmp <- data.frame(id = c("aaa", "bbb", "ccc"),
swr = c(10, 11, 12),
waneyedge = c(FALSE, FALSE,TRUE),
end = c(123, 456, 1789))
fd_report(tmp,
series = "id",
n_sapwood = "swr",
last = "end",
sw_data = "Wazny_1990")
dummy0
tmpsw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954)
dummy0
sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954)
sw_data_overview()
sw_data_info("Pilcher_1987")
sw_model("Sohar_2012_ELL_c")
sw_data_info("Sohar_2012_ELL_c")
sw_model("Wazny_1990", densfun = "gamma", credMass= .90, plot = TRUE)
load_all()
load_all()
document()
check()
load_all()
system.file("extdata", package = "fellingdateR") |> list.files()
Doel1 <- system.file("extdata", "DOEL1.fh", package = "fellingdateR")
read_fh(Doel1)
Doel1 <- system.file("extdata", "DOEL1.fh", package = "fellingdateR")
head(read_fh(Doel1), 10)
read_fh(Doel1, header = TRUE)
check()
build_readme()
build_readme()
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/data-raw/internal_data.R")
load("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sysdata.rda")
load("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sysdata.rda")
fellingdateR::dummy1
library(fellingdateR)
## a data set where all series have partially preserved sapwood:
dummy1
library(fellingdateR)
## a data set where all series have partially preserved sapwood:
dummy1
build_readme()
load("R/sysdata")
load("R/sysdata.rda")
build_readme()
Doel1 <- system.file("extdata", "DOEL1.fh", package = "fellingdateR")
Doel1 <- read_fh(Doel1, verbose = FALSE)
head(Doel1, 10)
read_fh(Doel1, verbose = FALSE, header = TRUE)
Doel1 <- system.file("extdata", "DOEL1.fh", package = "fellingdateR")
Doel1_trs <- read_fh(Doel1, verbose = FALSE)
head(Doel1_trs, 10)
read_fh(Doel1, verbose = FALSE, header = TRUE)
build_readme()
dummy0
output_comb <- sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954,
plot = FALSE
)
head(output_comb, 10)
build_readme()
dummy0
output_comb <- sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954,
plot = FALSE
)
head(output_comb$rawData, 20)
output_comb[-1]
output_comb <- sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954,
plot = FALSE
)
build_readme()
# 10 sapwood rings observed and the Wazny 1990 sapwood model:
sw_interval(n_sapwood = 10,
last = 1234,
hdi = TRUE,
credMass = .95,
sw_data = "Wazny_1990",
densfun = "lognormal",
plot = T)
sw_interval(n_sapwood = 10,
last = 1234,
hdi = TRUE,
credMass = .95,
sw_data = "Wazny_1990",
densfun = "lognormal")
library(fellingdateR)
## a data set where all series have partially preserved sapwood:
load("R/sysdata.rda")
dummy1
sw_combine(dummy1, plot = TRUE)
sw_model("Hollstein_1980")
sw_interval(n_sapwood = 10,
last = 1234,
hdi = TRUE,
credMass = .95,
sw_data = "Wazny_1990",
densfun = "lognormal")
# 10 sapwood rings observed and the Wazny 1990 sapwood model:
sw_interval(n_sapwood = 10,
last = 1234,
hdi = TRUE,
credMass = .95,
sw_data = "Wazny_1990",
densfun = "lognormal",
plot = T)
tmp <- data.frame(id = c("aaa", "bbb", "ccc"),
swr = c(10, 11, 12),
waneyedge = c(FALSE, FALSE,TRUE),
end = c(123, 456, 1789))
fd_report(tmp,
series = "id",
n_sapwood = "swr",
last = "end",
sw_data = "Wazny_1990")
dummy0
output_comb <- sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954,
plot = FALSE
)
head(output_comb$rawData, 20)
output_comb[-1]
dummy0
output_comb <- sw_combine(dummy0,
series = "trs",
last = "end",
n_sapwood = "swr",
waneyedge = "bark",
credMass = .954,
plot = FALSE
)
head(output_comb$rawData, 20)
output_comb[-1]
library(fellingdateR)
get("Hollstein_1980")
sw_data_overview()
Doel1 <- system.file("extdata", "DOEL1.fh", package = "fellingdateR")
Doel1_trs <- read_fh(Doel1, verbose = FALSE)
library(fellingdateR)
Doel1 <- system.file("extdata", "DOEL1.fh", package = "fellingdateR")
Doel1_trs <- read_fh(Doel1, verbose = FALSE)
Doel1 <- system.file("extdata", "DOEL1.fh", package = "fellingdateR")
devtools::install_github("hanecakr/fellingdateR", force = TRUE)
detach("fellingdateR", unload = T)
detach("package:fellingdateR", unload = T)
devtools::install_github("hanecakr/fellingdateR", force = TRUE)
library(fellingdateR)
Doel1 <- system.file("extdata", "DOEL1.fh", package = "fellingdateR")
Doel1_trs <- read_fh(Doel1, verbose = FALSE)
head(Doel1_trs, 15)
read_fh(Doel1, verbose = FALSE, header = TRUE)
library(devtools)
build_readme()
library(dplR)
citation("dplR")
build_readme()
build_readme()
check()
check()
build_readme()
library(devtools)
library(fellingdateR)
dummy2
## a data set where all series have partially preserved sapwood:
load("R/sysdata.rda")
dummy1
dummy2
sw_combine(dummy2)
sw_combine(dummy2, plot = TRUE)
dummy3
dummy3
sw_combine(dummy3, plot = TRUE)
dummy4
dummy4
sw_combine(dummy4, plot = TRUE)
dummy5
dummy5
sw_combine(dummy5, plot = TRUE)
dummy6
library(httr)
library(devtools)
load_all()
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_combine.R")
sw_interval(n_sapwood = 10, last = 1000, sw_data = "Hollstein_1980")
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
library(devtools)
library(fellingdateR)
load_all()
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
dummy1
dummy6
dummy7
dummy8
sw_suÃ¹(dummy7)
sw_sum(dummy7)
load("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sysdata.rda")
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/data-raw/internal_data.R")
sw_sum(dummy7)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7)
sw_sum(dummy7, plot = T)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7, plot = T)
library(tidyverse)
library(ggplot2)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7, plot = T)
sw_sum(dummy7, plot = F) ->tmp
library(devtools)
library(fellingdateR)
load_all()
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7, plot = F) ->tmp
View(tmp)
movAv(tmp$SPD, 11, align = "center", edges = "fill") -> tmp2
View(tmp2)
tmp$SPD_MovAv2 <- smooth
tmp$SPD_MovAv2 <- tmp2
View(tmp)
tmp$SPD_MovAv2 <- as.data.frame(tmp2)
View(tmp)
library(devtools)
library(fellingdateR)
load_all()
?use_r
?use_r(sw_sum_plot.r)
use_r(sw_sum_plot.r)
use_r("sw_sum_plot.r")
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7)
sw_sum(dummy7, plot = T)
library(tidyverse)
library(ffplot2)
library(ggplot2)
sw_sum(dummy7, plot = T)
sw_sum(dummy7) -> tmp
View(tmp)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7) -> tmp
View(tmp)
View(tmp)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7) -> tmp
View(tmp)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7) -> tmp
View(tmp)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7) -> tmp
View(tmp)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7) -> tmp
View(tmp)
tmp2 <- as.data.frame(movAv(tmp$SPD, 11, align = "center", edges = "fill"))
View(tmp2)
names(tmp2) <- "runMean"
View(tmp2)
View(tmp2)
View(tmp)
tmp3 <- cbind(tmp, tmp2)
View(tmp3)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7) -> tmp
View(tmp)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum_plot.r")
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7) -> tmp
View(tmp)
sw_sum(dummy7, plot = T
sw_sum(dummy7, plot = T)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum_plot.r")
sw_sum(dummy7, plot = T)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum_plot.r")
sw_sum(dummy7, plot = T)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum_plot.r")
sw_sum(dummy7, plot = T)
View(tmp)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum_plot.r")
sw_sum(dummy7, plot = T)
sw_sum(dummy7, plot = T)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7, plot = T)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
sw_sum(dummy7, plot = T)
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum_plot.r")
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum_plot.r")
source("C:/Users/hanecakr/Documents/R_github/fellingdateR/R/sw_sum.R")
