<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Computes the limits of the felling date range — sw_interval • fellingdater</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Computes the limits of the felling date range — sw_interval"><meta name="description" content="This function computes the probability density function (PDF)
and the highest posterior density interval (HDI) of the felling date range,
based on the observed number of sapwood rings, their dating, and a selected
sapwood dataset and model."><meta property="og:description" content="This function computes the probability density function (PDF)
and the highest posterior density interval (HDI) of the felling date range,
based on the observed number of sapwood rings, their dating, and a selected
sapwood dataset and model."><meta property="og:image" content="https://ropensci.github.io/fellingdater/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fellingdater</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting_started.html">Get started</a></li>
    <li><a class="dropdown-item" href="../articles/the_workflow.html">The ´fellingdater´ workflow</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/fellingdater/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Computes the limits of the felling date range</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/fellingdater/blob/main/R/sw_interval.R" class="external-link"><code>R/sw_interval.R</code></a></small>
      <div class="d-none name"><code>sw_interval.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function computes the probability density function (PDF)
and the highest posterior density interval (HDI) of the felling date range,
based on the observed number of sapwood rings, their dating, and a selected
sapwood dataset and model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sw_interval</span><span class="op">(</span></span>
<span>  n_sapwood <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  last <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  hdi <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cred_mass <span class="op">=</span> <span class="fl">0.954</span>,</span>
<span>  sw_data <span class="op">=</span> <span class="st">"Hollstein_1980"</span>,</span>
<span>  densfun <span class="op">=</span> <span class="st">"lognormal"</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n-sapwood">n_sapwood<a class="anchor" aria-label="anchor" href="#arg-n-sapwood"></a></dt>
<dd><p>A <code>numeric</code>. The number of observed sapwood rings.</p></dd>


<dt id="arg-last">last<a class="anchor" aria-label="anchor" href="#arg-last"></a></dt>
<dd><p>A <code>numeric</code>. The calendar year assigned to the outermost sapwood
ring (default = 1).</p></dd>


<dt id="arg-hdi">hdi<a class="anchor" aria-label="anchor" href="#arg-hdi"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the function returns the lower and upper bounds
of the highest density interval (HDI). If <code>FALSE</code>, it returns a data frame with
scaled probability values for each possible number of sapwood rings.</p></dd>


<dt id="arg-cred-mass">cred_mass<a class="anchor" aria-label="anchor" href="#arg-cred-mass"></a></dt>
<dd><p>A numeric <code>scalar</code> in the range of <code>[0, 1]</code>, specifying the
mass of the credible interval (default = .954)</p></dd>


<dt id="arg-sw-data">sw_data<a class="anchor" aria-label="anchor" href="#arg-sw-data"></a></dt>
<dd><p>The name of the sapwood data set to use for modelling. It
should be one of the data sets listed in <code><a href="sw_data_overview.html">sw_data_overview()</a></code>, or the name
of a <code>data.frame</code> with sapwood data in columns <code>n_sapwood</code> and <code>count</code>.</p></dd>


<dt id="arg-densfun">densfun<a class="anchor" aria-label="anchor" href="#arg-densfun"></a></dt>
<dd><p>A character string naming the distribution to fit.
One of:</p><ul><li><p><em>lognormal</em> (default),</p></li>
<li><p><em>normal</em>,</p></li>
<li><p><em>weibull</em>,</p></li>
<li><p><em>gamma</em>.</p></li>
</ul></dd>


<dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>A <code>logical</code>.</p><ul><li><p>If <code>TRUE</code>, a ggplot-style graph is returned of the individual
sapwood model and estimate of the felling date range.</p></li>
<li><p>If <code>FALSE</code>, a <code>list</code> with the numeric output of the modelling process is returned.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The type of output depends on the value of <code>hdi</code>:</p><ul><li><p>If <code>hdi = TRUE</code>, a numeric vector with the lower and upper limits of the
highest density interval (HDI). Attributes include <code>cred_mass</code>, <code>sw_data</code>,
and the fitted <code>model</code>.</p></li>
<li><p>If <code>hdi = FALSE</code>, a data frame with scaled probability values (<code>p</code>) for
each year after the last dated sapwood ring.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># 10 sapwood rings observed and the Wazny 1990 sapwood model:</span></span></span>
<span class="r-in"><span><span class="fu">sw_interval</span><span class="op">(</span></span></span>
<span class="r-in"><span>     n_sapwood <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>     last <span class="op">=</span> <span class="fl">1234</span>,</span></span>
<span class="r-in"><span>     hdi <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>     cred_mass <span class="op">=</span> <span class="fl">.95</span>,</span></span>
<span class="r-in"><span>     sw_data <span class="op">=</span> <span class="st">"Wazny_1990"</span>,</span></span>
<span class="r-in"><span>     densfun <span class="op">=</span> <span class="st">"lognormal"</span>,</span></span>
<span class="r-in"><span>     plot <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lower upper         p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1234  1250 0.9611793</span>
<span class="r-in"><span><span class="co"># same example as above, but with numerical output (hdi = FALSE):</span></span></span>
<span class="r-in"><span><span class="fu">sw_interval</span><span class="op">(</span></span></span>
<span class="r-in"><span>     n_sapwood <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>     last <span class="op">=</span> <span class="fl">1234</span>,</span></span>
<span class="r-in"><span>     hdi <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>     cred_mass <span class="op">=</span> <span class="fl">.95</span>,</span></span>
<span class="r-in"><span>     sw_data <span class="op">=</span> <span class="st">"Wazny_1990"</span>,</span></span>
<span class="r-in"><span>     densfun <span class="op">=</span> <span class="st">"lognormal"</span>,</span></span>
<span class="r-in"><span>     plot <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     year n_sapwood            p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1234        10 4.387611e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   1235        11 6.219097e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1236        12 7.801314e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   1237        13 8.894482e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   1238        14 9.400306e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   1239        15 9.347466e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   1240        16 8.845988e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   1241        17 8.038628e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   1242        18 7.064400e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  1243        19 6.037958e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  1244        20 5.042220e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  1245        21 4.129538e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  1246        22 3.327159e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  1247        23 2.643959e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  1248        24 2.076722e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  1249        25 1.615214e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  1250        26 1.245872e-02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  1251        27 9.542758e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  1252        28 7.266294e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  1253        29 5.505594e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  1254        30 4.154352e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  1255        31 3.124045e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  1256        32 2.342677e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24  1257        33 1.752749e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25  1258        34 1.309002e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26  1259        35 9.762245e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27  1260        36 7.272799e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28  1261        37 5.414149e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29  1262        38 4.028596e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30  1263        39 2.996922e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31  1264        40 2.229393e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32  1265        41 1.658698e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33  1266        42 1.234492e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34  1267        43 9.192023e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35  1268        44 6.848429e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36  1269        45 5.105942e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37  1270        46 3.809853e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38  1271        47 2.845283e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39  1272        48 2.126964e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40  1273        49 1.591626e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41  1274        50 1.192322e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42  1275        51 8.942096e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43  1276        52 6.714252e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44  1277        53 5.047602e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45  1278        54 3.799408e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46  1279        55 2.863535e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47  1280        56 2.161002e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48  1281        57 1.632988e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49  1282        58 1.235643e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50  1283        59 9.362498e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51  1284        60 7.103687e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52  1285        61 5.397257e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53  1286        62 4.106413e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54  1287        63 3.128631e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55  1288        64 2.386985e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56  1289        65 1.823682e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57  1290        66 1.395252e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58  1291        67 1.068956e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59  1292        68 8.201055e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60  1293        69 6.300581e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61  1294        70 4.847197e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62  1295        71 3.734200e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63  1296        72 2.880707e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64  1297        73 2.225318e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65  1298        74 1.721367e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66  1299        75 1.333338e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67  1300        76 1.034162e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68  1301        77 8.031835e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69  1302        78 6.246191e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70  1303        79 4.863914e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71  1304        80 3.792475e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 72  1305        81 2.960884e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 73  1306        82 2.314610e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74  1307        83 1.811705e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 75  1308        84 1.419861e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76  1309        85 1.114164e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77  1310        86 8.753705e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78  1311        87 6.886052e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79  1312        88 5.423498e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80  1313        89 4.276761e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81  1314        90 3.376542e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 82  1315        91 2.668986e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 83  1316        92 2.112190e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 84  1317        93 1.673507e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 85  1318        94 1.327473e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 86  1319        95 1.054198e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 87  1320        96 8.381333e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88  1321        97 6.671042e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 89  1322        98 5.315687e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90  1323        99 4.240389e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 91  1324       100 3.386323e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 92  1325       101 2.707215e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 93  1326       102 2.166629e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 94  1327       103 1.735839e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95  1328       104 1.392172e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 96  1329       105 1.117714e-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 97  1330       106 8.982951e-12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 98  1331       107 7.226918e-12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99  1332       108 5.820081e-12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100 1333       109 4.691834e-12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101 1334       110 3.786080e-12</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kristof Haneca.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

